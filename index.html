<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>光遇礼包统计工具</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      margin: 0;
      padding: 15px;
      background: linear-gradient(135deg, #fff0f5, #fef6e4);
      color: #444;
    }
    h2 {
      text-align: center;
      color: #ff6f91;
      margin-bottom: 15px;
      font-size: 1.4rem;
    }
    。container {
      max-width: 100%;
      margin: auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      padding: 15px;
    }
    p { font-size: 0.9rem; }
    textarea {
      width: 95%;
      height: 150px;
      border-radius: 12px;
      border: 2px solid #ffd6e0;
      padding: 8px;
      margin: 0 auto;
      display: block;
      resize: none;
      outline: none;
      background: #fffafc;
      font-size: 14px;
      box-sizing: border-box;
    }
    button {
      display: block;
      margin: 15px auto;
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      background: #ffb6c1;
      color: white;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
      transition: 0.2s;
    }
    button:hover { background: #ff6f91; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      border-radius: 12px;
      overflow: hidden;
      font-size: 0.9rem;
    }
    th, td {
      border: 1px solid #ffe4ec;
      padding: 8px;
      text-align: center;
    }
    th {
      background: #ffe4ec;
      color: #ff4f79;
    }
    tr:nth-child(even) { background: #fff9fb; }
    .result p {
      text-align: right;
      font-weight: bold;
      font-size: 1rem;
      color: #ff4f79;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>✨ 光遇礼包统计工具 ✨</h2>
    <p>请输入礼包/饰品名称（支持空格/换行等各种符号分隔）：</p>
    <textarea id="input" placeholder="例如：晨岛，云野，蜡烛652，爱心208，南瓜头..."></textarea>
    <button onclick="calculate()">统计价格</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    // 礼包 groups
    const groups = {
      1: ["南瓜头", "南瓜头饰"],
      6: ["贝壳发饰", "贝壳头饰", "贝壳发饰礼包", "贝壳头饰礼包", "贝壳发夹", "贝壳发夹礼包", "大桔大利", "大桔大利礼包", "橘子头饰", "橘子发饰", "桔子头饰", "桔子发饰", "橘子头饰礼包", "橘子发饰礼包", "桔子头饰礼包", "桔子发饰礼包", "大橘大利", "大橘大利礼包", "四叶草头饰", "四叶草头饰礼包", "四叶草发饰", "四叶草发饰礼包", "小黄鸭头饰", "小黄鸭头饰礼包", "小黄鸭发饰礼包", "小黄鸭发饰", "四叶草", "贝壳发卡", "桔子", "大桔大利头饰", "大桔大利发饰", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      12: ["冥龙南瓜", "冥龙南瓜礼包", "金鳞耳饰", "金鳞耳饰礼包", "金鳞耳坠", "金鳞耳坠礼包", "雪花发夹", "雪花发夹礼包", "雪花发饰", "雪花发饰礼包", "鲤鱼头饰", "锦鲤头饰礼包", "年年有余礼包", "年年有余", "年年有鱼礼包", "年年有鱼", "雪花发卡", "鲤跃龙门头饰", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      18: ["奔离远行发", "奔离远行发型", "奔离远行发型礼包", "奔离远行头发", "火焰眼镜礼包", "火焰眼镜", "火焰太阳镜", "火焰太阳镜礼包", "南瓜帽", "水母肩饰礼包", "水母肩饰", "兔子头饰", "中秋兔子头饰", "中秋节兔子头饰", "兔子头饰礼包", "中秋兔子头饰礼包", "中秋节兔子头饰礼包", "兔兔头饰礼包", "中秋节兔兔头饰礼包", "中秋兔兔头饰礼包", "兔子发饰", "中秋兔子发饰", "中秋节兔子发饰", "兔子发饰礼包", "中秋兔子发饰礼包", "中秋节兔子发饰礼包", "兔子头饰", "中秋兔子头饰", "中秋节兔子头饰", "兔子头饰礼包", "中秋兔子头饰礼包", "中秋节兔子头饰礼包",  "兔兔头饰", "中秋兔兔头饰", "中秋节兔兔头饰", "水母塔肩饰", "水母塔肩饰礼包", "日光耳环", "日光耳环礼包", "玉兔礼包", "玉兔头饰礼包", "玉兔头饰", "玉兔发饰", "玉兔发饰礼包", "树精肩饰礼包", "树精肩饰", "彩虹耳钉", "彩虹耳钉礼包", "螃蟹面具", "心心相印发饰礼包", "心心相印发饰", "心心相印", "粽子发饰", "粽子头饰", "粽子发饰礼包", "粽子头饰礼包", "蝴蝶与花发饰礼包", "蝴蝶与花发饰", "蝴蝶与花头饰", "蝴蝶与花头饰礼包", "月光耳坠礼包", "月光耳坠", "满月耳坠", "满月耳坠礼包", "玉兔", "心相印发饰", "心相印头饰", "蝴蝶与花", "奔离远行", "火焰墨镜", "兔子", "蝶恋花帽", "吸蟹面具", "吸蟹伯爵面具礼包", "吸蟹伯爵面具", "伯爵面具", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      25: ["小海牛配饰礼包", "小海牛配饰","迷你海牛帽"],
      30: ["星月头冠", "星月头冠发饰", "星月头冠发饰礼包", "星月头冠礼包", "创始人", "创始人装扮礼包", "创始人斗篷", "创始人礼包", "创始人斗篷礼包", "爱心眼镜", "爱心眼镜礼包", "爱心太阳镜", "爱心太阳镜礼包", "史力奇帽子礼包", "史力奇帽子", "大蝴蝶结", "大蝴蝶结礼包", "优雅领巾", "优雅领巾礼包", "小狗头饰", "小狗头饰礼包", "周年影院套餐礼包", "青衫落括", "青衫落括礼包", "福蛇扇子", "福蛇扇子礼包", "献瑞折扇礼包", "献瑞折扇", "自然之声礼", "自然之声", "自然之声礼包", "小狗周年头饰", "蜘蛛朋克头", "朋克发型", "蛛网朋克头", "蛛网朋克发型", "雏鸟之琴", "雏鸟之琴礼包", "青衫落拓礼包", "青衫落拓", "锦标赛桂冠礼包", "立式钢琴礼包", "立式钢琴", "福蛇扇", "锦标赛桂冠", "影院套餐", "爱心墨镜", "影院套餐", "蝴蝶结", "优雅领结", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      45: ["兔子拖鞋", "兔兔拖鞋", "兔子拖鞋礼包", "兔兔拖鞋礼包", "波浪卷发", "波浪卷发礼包", "双马尾发型", "双马尾发型礼包", "大耳狗头饰礼包", "大耳狗头饰", "大耳狗发饰礼包", "大耳狗发饰", "迷你大耳狗发饰", "迷你打耳光发饰礼包", "海蓝波浪发型", "海蓝波浪发型礼包", "渐变双马尾发饰礼包", "渐变双马尾发饰", "渐变双马尾发型", "渐变双马尾发型礼包", "雪人暖心靴礼包", "雪人暖心靴", "必胜客联动披萨", "必胜客联动分享披萨", "必胜客联动分享披萨礼包", "雪怪靴", "向日葵连衣裙礼包", "向日葵连衣裙", "圣诞雪人靴", "跃动跑鞋", "跃动跑鞋礼包", "必胜客披萨", "悦动跑鞋", "海洋发型", "大耳狗发饰头饰", "雪人暖靴", "有友节连衣裙", "玉兔拖鞋", "雪人靴", "海牛玩偶礼包", "海牛玩偶", "海牛抱枕", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      68: ["炸弹猫", "奔离远行服", "奔离远行服饰", "致爱打扮", "致爱打扮礼包","致爱装扮", "致爱装扮礼包", "瑞气服饰", "瑞气服饰礼包", "牛仔裤", "阔腿牛仔裤", "时尚牛仔裤", "时尚牛仔裤礼包", "牛仔裤礼包", "阔腿牛仔裤礼包", "皮皮猫礼包", "飞蛾装扮礼包", "飞蛾装扮", "飞蛾斗篷", "飞蛾斗篷礼包", "彩虹耳饰", "彩虹耳饰礼包", "彩虹耳机", "彩虹耳机礼包", "史力奇套装", "史力奇套装礼包", "史力奇套装礼", "猫咪背饰", "猫咪背饰礼包", "猫猫背饰", "猫猫背饰礼包", "万圣节猫咪背饰", "万圣节猫咪背饰礼包", "万圣节猫猫背饰", "万圣节猫猫背饰礼包", "枯树角", "枯树角礼包", "枯角", "枯角礼包", "女巫帽", "女巫帽礼包", "巫师", "巫师帽", "巫师礼包", "巫师帽礼包", "女巫裙子", "女巫裙子礼包", "女巫裙礼包", "女巫裙", "枯鹿角", "枯鹿角礼包", "万圣节枯角", "夏日凉鞋礼包", "夏日凉鞋", "凉鞋", "凉鞋礼包", "凉拖鞋", "拖鞋", "拖鞋礼包", "凉拖鞋礼包", "夏日凉拖鞋", "夏日凉拖鞋礼包", "夏日冲浪礼包", "冲浪板", "冲浪板礼包", "夏日冲浪板", "夏日凉伞礼包", "夏日凉伞", "夏日冲浪", "周年庆抱枕", "周年庆抱枕礼包", "温暖绒帽", "温暖绒帽礼包", "祥云瑞气服饰", "祥云瑞气服饰礼包", "文雀礼包", "文雀装扮礼包", "文雀斗篷", "文雀斗篷礼包", "飞蛾礼包", "彩虹帽", "彩虹帽礼包", "彩虹毛绒帽", "彩虹毛绒帽礼包", "彩虹毛织帽", "彩虹毛织帽礼包", "小王子狐狸", "小王子狐狸礼包", "狐狸抱枕", "小王子狐狸抱枕", "狐狸抱枕礼包", "小王子狐狸抱枕礼包", "白雪斗篷", "白雪斗篷礼包", "雪花水晶球", "雪花水晶球礼包", "绒线帽", "必胜客联动衣服", "必胜客联动装扮礼包", "必胜客联动装扮", "狐狸背包", "冲浪滑板", "狐狸背包礼包", "活力海牛礼包", "活力海牛", "海牛抱枕", "海牛玩偶", "挂肩外袍礼包", "夏日有友礼包", "水晶球", "多彩绒帽", "祥云服饰", "巫树犄角", "远行服饰", "周年抱枕", "必胜客装扮", "阔腿牛仔", "龙鳞束身", "龙鳞束身长袍", "龙鳞束身长袍礼包", "披肩外袍", "披肩外袍礼包", "皮皮猫", "白雪", "遮阳伞", "太阳伞", "吓人猫", "狐狸", "光之生物礼服套装", "光之生物礼服", "光之生物", "女巫长裙", "乐队制服", "进行曲制服礼包", "夏日拖鞋", "夏日拖鞋礼包", "阳光凉鞋", "阳光凉鞋礼包", "园丁装扮", "园丁装扮礼包", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      78: ["姆明饰品套装礼包", "姆明饰品礼包", "姆明套装礼包", "姆明尾巴套装", "姆明饰品套装", "冥龙角", "冥龙角礼包", "冥龙套装礼包", "冥龙套装", "爱丽丝套装", "爱丽丝套装礼包", "爱丽丝围裙套装礼包", "爱丽丝围裙套装", "姆明饰品", "姆明耳朵尾巴", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      98: ["彩虹武士裤","狐狸玩偶", "蜘蛛斗篷", "蜘蛛斗", "神鹿祝福头饰礼包", "神鹿祝福礼包"， "神鹿祝福头饰", "瑞气纸伞礼包", "瑞气纸伞", "球赛套装礼包", "球赛套装", "圣诞鹿角", "圣诞鹿角礼包", "圣诞节鹿角", "圣诞节鹿角礼包", "九色鹿鹿角", "九色鹿角", "九色鹿鹿角礼包", "九色鹿角礼包", "异彩神鹿头饰", "异彩神鹿头饰礼包", "蜘蛛斗篷", "蜘蛛斗篷礼包", "蛛丝斗篷", "蛛丝斗篷礼包", "蛛网斗篷", "蛛网斗篷礼包", "遥鲲披肩斗篷", "遥鲲披肩斗篷礼包", "祥云瑞气雨伞", "祥云瑞气雨伞礼包", "音韵吉他", "白吉他", "白色吉他", "音韵吉他礼包", "白吉他礼包", "白色吉他礼包", "大铁头", "绊爱大铁头", "大铁头礼包", "绊爱大铁头礼包", "中国绊爱大铁头礼包", "爱之烟花棒", "爱之烟花棒礼包", "爱心手杖", "爱心手杖礼包", "祥云瑞气纸伞", "祥云瑞气纸伞礼包", "大耳狗抱枕", "大耳狗抱枕礼包", "大耳狗服饰", "大耳狗斗篷", "大耳狗服饰礼包", "大耳狗斗篷礼包", "透明蜘蛛斗", "透明蜘蛛斗礼包", "奉献斗篷", "奉献斗篷礼包", "海龟斗篷", "海龟斗篷礼包", "欧若拉之声", "欧若拉之声礼包", "彩虹泡泡机", "彩虹泡泡机礼包", "泡泡机礼包", "泡泡机", "彩色泡泡机", "彩色泡泡机礼包", "暗彩束腰裤礼包", "暗彩束腰裤", "彩虹韧带披肩斗", "彩虹韧带披肩斗礼包", "彩虹韧带披肩斗篷", "彩虹韧带披肩斗篷礼包", "小王子围巾", "小王子围巾斗篷", "小王子围巾礼包", "小王子围巾斗篷礼包", "惊喜手杖", "惊喜手杖礼包", "暖冬瑞雪斗篷", "暖冬瑞雪", "荷叶伞", "荷叶伞礼包", "荷叶雨伞", "荷叶雨伞礼包", "粽叶斗篷", "清香粽叶礼包", "粽叶斗篷礼包", "鹊桥相会礼包", "中秋灯笼", "中秋灯笼礼包", "暖冬夹棉斗篷礼包", "暖冬夹棉斗篷", "隐士雪人斗篷礼包", "隐士雪人斗篷", "冬季绗缝斗篷", "冬季绗缝斗篷礼包", "缤纷泡泡机礼包", "缤纷泡泡机", "瑞雪斗篷", "小王子斗篷", "鹿角", "暗陨斗篷", "暗陨斗篷礼包", "王子围巾", "王子围巾礼包", "伯爵斗篷", "伯爵斗篷礼包", "玫瑰褶边斗篷", "玫瑰褶边斗篷礼包", "玫瑰斗篷", "玫瑰斗篷礼包", "盘龙围巾斗篷", "盘龙围巾斗篷礼包", "彩虹武士裤", "彩虹武士裤礼包", "宝藏猎人礼包", "宝藏猎人", "雪怪斗篷", "暖洋洋雪怪斗篷礼包", "暖洋洋雪怪斗篷", "神鹿头饰", "祥云纸伞", "小黄鸭雨衣", "小黄鸭雨衣套装", "小黄鸭雨衣套装礼包", "缤纷飘带", "缤纷飘带斗篷", "保暖雪人斗", "保暖雪人斗篷", "保暖雪人斗篷礼包", "月华套装", "月华霓裳套装", "月华霓裳", "月华霓裳套装礼包", "暗彩装扮", "暗彩装扮礼包", "飞鸟纸伞", "飞鸟纸伞礼包", "神鹿角", "瑞雪", "粽叶斗", "球门", "蛛丝", "雪人斗", "欧之声", "海龟斗", "夹棉", "围巾", "灯笼", "新年伞", "周年纪念斗篷", "周年礼服斗篷", "暗黑斗篷", "周年燕尾服斗篷", "黑暗斗篷", "周年礼服斗篷礼包", "优雅三件套", "优雅三件套礼包", "时尚西装", "球赛礼包", "吸蟹斗篷", "吸蟹伯爵斗篷", "大耳狗装扮", "大耳狗装扮礼包", "吸蟹伯爵斗篷礼包", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      118: ["恶作剧鸦羽斗篷礼包", "鸦羽斗篷礼包", "鸦羽斗篷", "恶作剧鸦羽斗篷", "万圣节鸦羽斗篷礼包", "万圣节鸦羽斗篷", "乌鸦斗篷", "乌鸦斗篷礼包", "万圣节乌鸦斗篷", "万圣节乌鸦斗篷礼包", "流星斗篷", "流星斗篷礼包", "浪漫流星斗篷", "浪漫流星斗篷礼包", "情人节流星斗篷", "情人流星斗篷", "", "", "", "", "", "", "", "", "", ""],
      128: ["黄伞","皮皮猫装扮礼包"， "五周年线框", "五周年线框斗篷", "线框斗", "猫斗", "茶几", "茶桌", "双人茶桌", "", "", "", "", "", "", "", "万圣节飞行扫帚", "万圣节飞行扫帚李白", "万圣节扫帚", "万圣节扫帚礼包", "恶作剧飞行扫帚礼包", "恶作剧飞行扫帚", "飞行扫帚", "飞行扫帚礼包", "扫帚", "扫帚礼包", "飞天扫帚", "飞天扫帚礼包", "恶作剧飞天扫帚礼包", "恶作剧飞天扫帚", "万圣节飞天扫帚", "万圣节飞天扫帚礼包", "皮皮猫套装", "皮皮猫套装礼包", "枯萎扫帚", "枯萎扫帚礼包", "万圣节枯萎扫帚", "万圣节枯萎扫帚礼包", "恶作剧枯萎扫帚", "恶作剧枯萎扫帚礼包", "篝火小吃", "篝火小吃礼包", "篝火小吃套装", "篝火小吃套件", "篝火棉花糖", "篝火点心", "篝火点心礼包", "中国绊爱套装礼包", "绊爱套装", "绊爱套装礼包", "绊爱礼包", "爱心秋千", "爱心秋千礼包", "情人秋千", "情人秋千礼包", "情人节秋千", "情人节秋千礼包", "秋千", "秋千礼包", "跷跷板", "跷跷板礼包", "情人跷跷板", "情人节跷跷板", "情人跷跷板礼包", "情人节跷跷板礼包", "情人小船", "情人节小船", "情人小船礼包", "情人节小船礼包", "福蛇套装", "福蛇套装礼包", "网易云留声机", "古典音乐桌椅", "古典音乐桌椅礼包", "网易云留声机礼包", "音乐椅", "网易云音乐椅", "音乐桌", "网易云音乐桌", "花憩茶桌", "花憩茶桌礼包", "野餐礼包", "野餐桌", "野餐用具套装", "小憩茶桌", "小憩茶桌礼包", "衔福献瑞礼包", "衔福献瑞", "鲤跃龙门礼包", "鲤跃龙门", "鲤鱼斗篷", "鲤跃龙门斗篷", "凯旋手碟", "凯旋手碟礼包", "凯旋提琴礼包", "凯旋提琴", "小提琴", "手碟", "夏日阳伞", "夏日阳伞礼包", "仙境茶会门扉礼包", "仙境茶会门扉", "爱丽丝门", "兔子洞", "绊爱斗篷", "异彩莲花斗篷", "异彩莲花斗篷礼包", "周年线框斗篷", "周年线框斗篷礼包", "皮皮猫斗篷", "皮皮猫斗篷礼包", "鲤跃斗篷", "鲤跃斗篷礼包", "鲤跃套装", "肯德基联动礼包", "皮皮猫斗", "小憩茶壶", "福蛇斗篷", "古典音乐桌", "簧火点心", "仙境茶会门", "莲花斗蓬", "KFC厨师", "莲花斗", "绊爱", "烧烤架", "常驻线框斗", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      168: ["欧若拉之翼", "欧若拉之翼礼包", "风之旅人", "风之旅人礼包", "风之旅人斗篷", "新春福娃", "新春福娃礼包", "福娃礼包", "小王子星球夹克", "小王子星球夹克礼包", "星球夹克", "星球夹克礼包", "春之日礼包", "春之日套装", "小行星斗篷", "小行星斗篷礼包", "妮妮斗篷", "妮妮斗篷礼包", "姆妈手作斗篷礼包", "姆明妈妈手作斗篷礼包", "姆明妈妈手作斗篷", "透明海洋斗篷礼包", "透明海洋斗篷", "潮汐套装", "潮汐套装礼包", "福娃", "夹克", "欧之翼", "潮汐套装礼", "超凡风之旅人礼包", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""],
      198: ["蝙蝠套装", "蝙蝠套装礼包", "蝙蝠斗", "蝙蝠斗礼包", "鬼蝠斗篷", "鬼蝠斗篷礼包", "蝙蝠斗篷", "蝙蝠斗篷礼包", "tgc斗篷", "tgc斗篷礼包", "TGC斗篷黑", "TGC黑斗篷礼包", "TGC黑斗篷", "TGC黑色斗篷", "TGC斗篷黑色", "万圣节礼包", "蝙蝠", "tgc", "电吉他", "办公室电吉他", "", "", "", "", "", "", "", "", "", "", "", "", ""]
    };
    
    // 构建礼包价格表（统一转小写存储）
    const priceMap = {};
    Object.keys(groups).forEach(price => {
      groups[price].forEach(name => {
        if (name.trim()) {
          priceMap[name.toLowerCase()] = parseInt(price);
        }
      });
    });

    // 蜡烛/爱心单价
    const unitPrices = { "蜡烛": 0.01, "爱心": 0.1 };

    function calculateSpecial(type, count) {
      let basePrice = unitPrices[type] * count;
      if (type === "蜡烛" && count > 1000) basePrice += 1;
      if (type === "爱心" && count > 1000) basePrice += 2;
      return basePrice;
    }

    // 毕业图价格表
    const graduateMaps = {
      "晨岛": 1, "云野": 1, "雨林": 1,
      "霞谷": 1, "暮土": 1, "禁阁": 1
    };

    // 毕业季价格表
    const seasonPrices = {
      "姆明季": 40, "风行季": 40, "拾光季": 40,
      "预言季": 40, "小王子季": 40, "表演季": 40,
      "彩染季": 40, "二重奏季": 40, "九色鹿": 40,
      "筑巢季": 40, "归巢季": 40, "圣岛季": 40,
      "梦想季": 40, "集结季": 40, "潜海季": 40,
      "破晓季": 40, "欧若拉": 40, "追忆季": 40,
      "夜行季": 40, "青鸟季": 40, "欧若拉季": 40,
      "感恩季": 40, "追光季": 40, "归属季": 40, 
      "音韵季": 40, "魔法季": 40, "九色鹿季": 40, 
      "小王子": 40, "双星季": 40, "": 40, 
    };

    // 毕业物品价格表
    const graduateItems = {
      "手拍大鼓": 1, "阿努比斯": 1, "多羽发饰": 1,
      "蓝黄羽袖": 1, "毕业手碟": 1,
      // ... 这里继续补充完整价目
    };

    // 热门复刻价格表
    const hotItems = {
      "绿芽": 1, "海洋斗": 1, "击剑裤": 1,
      "武士裤": 1, "虚荣": 1,
      // ... 这里继续补充完整价目
    };
/*
    function calculate() {
      const input = document.getElementById("input").value;
      if (!input.trim()) {
        document.getElementById("result").innerHTML = "<p>请输入礼包/饰品名称！</p>";
        return;
      }

      const items = input.split(/[\s,，;；、。：；【】]+/).map(i => i.trim()).filter(i => i);
      let total = 0;
      let rows = "";

      items.forEach(item => {
        let price = 0;

        if (item.includes("蜡烛")) {
          let count = parseInt(item.replace(/[^0-9]/g, "")) || 0;
          price = calculateSpecial("蜡烛", count);
          rows += `<tr><td>${item}</td><td>${price.toFixed(2)}</td></tr>`;
        } else if (item.includes("爱心")) {
          let count = parseInt(item.replace(/[^0-9]/g, "")) || 0;
          price = calculateSpecial("爱心", count);
          rows += `<tr><td>${item}</td><td>${price.toFixed(2)}</td></tr>`;
        } else if (graduateMaps[item]) {
          price = graduateMaps[item];
          rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
        } else if (seasonPrices[item]) {
          price = seasonPrices[item];
          rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
        } else if (graduateItems[item]) {
          price = graduateItems[item];
          rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
        } else if (hotItems[item]) {
          price = hotItems[item];
          rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
        } else {
          let key = item.toLowerCase();
          price = priceMap[key] || 0;
          rows += `<tr><td>${item}</td><td>${price ? price : "未找到"}</td></tr>`;
        }

        total += price;
      });

      let html = `
        <table>
          <tr><th>输入名称</th><th>价格(RMB)</th></tr>
          ${rows}
        </table>
        <p>总金额：${total.toFixed(2)} 元</p>
      `;

      document.getElementById("result").innerHTML = html;
    }
    */
    /*
    function calculate() {
  const input = document.getElementById("input").value;
  if (!input.trim()) {
    document.getElementById("result").innerHTML = "<p>请输入礼包/饰品名称！</p>";
    return;
  }

  // 拆分所有输入，支持空格、换行、逗号、中文符号等
  const items = input.split(/[\s,，;；、]+/).map(i => i.trim()).filter(i => i);

  let total = 0;
  let rows = "";

  items.forEach(item => {
    let price = 0;
    let display = item;

    // 情况1：蜡烛数量
    let candleMatch = item.match(/^蜡烛(\d+)$/i);
    if (candleMatch) {
      let count = parseInt(candleMatch[1]);
      price = calculateSpecial("蜡烛", count);
      total += price;
      rows += `<tr><td>蜡烛 × ${count}</td><td>${price.toFixed(2)}</td></tr>`;
      return;
    }

    // 情况2：爱心数量
    let heartMatch = item.match(/^爱心(\d+)$/i);
    if (heartMatch) {
      let count = parseInt(heartMatch[1]);
      price = calculateSpecial("爱心", count);
      total += price;
      rows += `<tr><td>爱心 × ${count}</td><td>${price.toFixed(2)}</td></tr>`;
      return;
    }

    // 情况3：毕业图
    if (graduateMaps[item]) {
      price = graduateMaps[item];
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
      return;
    }

    // 情况4：毕业季
    if (seasonPrices[item]) {
      price = seasonPrices[item];
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
      return;
    }

    // 情况5：毕业物品
    if (graduateItems[item]) {
      price = graduateItems[item];
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
      return;
    }

    // 情况6：热门复刻
    if (hotItems[item]) {
      price = hotItems[item];
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
      return;
    }

    // 情况7：礼包（忽略大小写）
    let key = item.toLowerCase();
    if (priceMap[key]) {
      price = priceMap[key];
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
      return;
    }

    // 情况8：都没匹配上
    rows += `<tr><td>${item}</td><td>未找到</td></tr>`;
  });

  let html = `
    <table border="1" cellspacing="0" cellpadding="5">
      <tr><th>输入名称</th><th>价格(RMB)</th></tr>
      ${rows}
    </table>
    <p>总金额：${total.toFixed(2)} 元</p>
  `;
  document.getElementById("result").innerHTML = html;
}
*/

  function calculate() {
  const input = document.getElementById("input").value;
  if (!input.trim()) {
    document.getElementById("result").innerHTML = "<p>请输入礼包/饰品名称！</p>";
    return;
  }

  let total = 0;
  let rows = "";

  // 先按换行拆分
  const lines = input.split(/\n+/).map(line => line.trim()).filter(l => l);

  lines.forEach(line => {
    // 尝试匹配 【分类】内容
    let match = line.match(/^【(.+?)】(.+)$/);
    if (match) {
      let category = match[1].trim();
      let content = match[2].trim();
      let items = content.split(/[，,、\s]+/).map(i => i.trim()).filter(i => i);

      items.forEach(item => {
        processItem(item, category);
      });
    } else {
      // 没有【】，按通用分割
      let items = line.split(/[，,、\/\s]+/).map(i => i.trim()).filter(i => i);
      items.forEach(item => {
        processItem(item);
      });
    }
  });

  function processItem(item, category = null) {
    let price = 0;

    // 特殊处理：蜡烛 / 爱心（带数量）
    let candleMatch = item.match(/^蜡烛(\d+)$/i);
    let heartMatch = item.match(/^爱心(\d+)$/i);

    if (category === "蜡烛" || candleMatch) {
      let count = category === "蜡烛" ? parseInt(item) : parseInt(candleMatch[1]);
      price = calculateSpecial("蜡烛", count);
      total += price;
      rows += `<tr><td>蜡烛 ： ${count}</td><td>${price.toFixed(2)}</td></tr>`;
      return;
    }

    if (category === "爱心" || heartMatch) {
      let count = category === "爱心" ? parseInt(item) : parseInt(heartMatch[1]);
      price = calculateSpecial("爱心", count);
      total += price;
      rows += `<tr><td>爱心 ： ${count}</td><td>${price.toFixed(2)}</td></tr>`;
      return;
    }

    // 分类优先（毕业图/季/物品/复刻）
    if ((category === "毕业图" && graduateMaps[item]) ||
        (category !== "毕业图" && graduateMaps[item])) {
      price = graduateMaps[item];
    } else if ((category === "毕业季" && seasonPrices[item]) ||
               (category !== "毕业季" && seasonPrices[item])) {
      price = seasonPrices[item];
    } else if ((category === "毕业物品" && graduateItems[item]) ||
               (category !== "毕业物品" && graduateItems[item])) {
      price = graduateItems[item];
    } else if ((category === "热门复刻" && hotItems[item]) ||
               (category !== "热门复刻" && hotItems[item])) {
      price = hotItems[item];
    } else {
      // 兜底礼包查找
      let key = item.toLowerCase();
      if (priceMap[key]) {
        price = priceMap[key];
      }
    }

    if (price > 0) {
      total += price;
      rows += `<tr><td>${item}</td><td>${price}</td></tr>`;
    } else {
      rows += `<tr><td>${item}</td><td>未找到</td></tr>`;
    }
  }

  // 输出结果
  let html = `
    <table border="1" cellspacing="0" cellpadding="5">
      <tr><th>输入名称</th><th>价格(RMB)</th></tr>
      ${rows}
    </table>
    <p>总金额：${total.toFixed(2)} 元</p>
  `;
  document.getElementById("result").innerHTML = html;
}
  </script>
</body>
</html>
